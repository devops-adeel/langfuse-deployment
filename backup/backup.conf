# Langfuse Backup Configuration

# Primary backup location (local SSD)
PRIMARY_BACKUP_DIR="${HOME}/LangfuseBackups"

# External backup location (when available)
EXTERNAL_DRIVE_NAME="SanDisk"
EXTERNAL_BACKUP_DIR="/Volumes/${EXTERNAL_DRIVE_NAME}/LangfuseBackups"

# Retention Policy
BACKUP_RETENTION_DAYS=7      # Daily backups kept for 7 days
BACKUP_RETENTION_WEEKLY=4    # Weekly backups kept for 4 weeks  
BACKUP_RETENTION_MONTHLY=12  # Monthly backups kept for 12 months

# Backup Schedule (cron format)
BACKUP_CRON_DAILY="0 2 * * *"       # Daily at 2 AM
BACKUP_CRON_WEEKLY="0 3 * * 0"      # Weekly on Sunday at 3 AM
BACKUP_CRON_MONTHLY="0 4 1 * *"     # Monthly on 1st at 4 AM

# Docker Compose Project Name
COMPOSE_PROJECT_NAME="langfuse-prod"

# Notification Settings
NOTIFICATION_LEVEL="error"  # Options: error, info
# NOTIFICATION_WEBHOOK=""    # Optional: Webhook URL for notifications

# Backup Compression
BACKUP_COMPRESSION="gz"      # Options: gz, zst, none

# External Drive Sync
SYNC_ON_BACKUP=true         # Automatically sync to external drive after backup
SYNC_CHECK_INTERVAL=30      # Seconds between checks for external drive
SYNC_MAX_WAIT=3600         # Maximum seconds to wait for external drive

# Backup Lock
BACKUP_LOCK_FILE="${PRIMARY_BACKUP_DIR}/.docker-backup-lock"
BACKUP_LOCK_TIMEOUT=7200    # Maximum backup duration in seconds (2 hours)

# Advanced Options
BACKUP_PARALLEL=false       # Parallel backup of volumes (experimental)
BACKUP_VERIFY=true         # Verify backup integrity after creation
BACKUP_ENCRYPT=false       # Encrypt backups (requires GPG setup)