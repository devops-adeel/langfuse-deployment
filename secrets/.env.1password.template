# 1Password Secret Template for Langfuse
# This file contains references to secrets stored in 1Password
# Use with: op inject -i .env.1password.template -o .env.secrets
#
# Prerequisites:
# 1. Install 1Password CLI: brew install --cask 1password-cli
# 2. Sign in: op signin
# 3. Create vault "Langfuse-Prod" in 1Password
# 4. Add items with the fields referenced below

# Version Configuration
LANGFUSE_VERSION=3.97.0
LANGFUSE_WORKER_VERSION=3.97.0
POSTGRES_VERSION=15.7-alpine
CLICKHOUSE_VERSION=24.3.3.102-alpine
REDIS_VERSION=7.2.5-alpine
MINIO_VERSION=RELEASE.2024-08-17T01-24-54Z
BACKUP_VERSION=v2.43.0

# Core URLs and Endpoints
NEXTAUTH_URL=https://langfuse.local
LANGFUSE_S3_MEDIA_UPLOAD_EXTERNAL_ENDPOINT=https://minio.local
LANGFUSE_S3_BATCH_EXPORT_EXTERNAL_ENDPOINT=https://minio.local

# Database Configuration
DATABASE_URL=op://Langfuse-Prod/PostgreSQL/connection-string
POSTGRES_PASSWORD=op://Langfuse-Prod/PostgreSQL/password

# Security Keys
NEXTAUTH_SECRET=op://Langfuse-Prod/Security/nextauth-secret
SALT=op://Langfuse-Prod/Security/salt
ENCRYPTION_KEY=op://Langfuse-Prod/Security/encryption-key

# ClickHouse Configuration
CLICKHOUSE_USER=clickhouse
CLICKHOUSE_PASSWORD=op://Langfuse-Prod/ClickHouse/password

# Redis Configuration
REDIS_AUTH=op://Langfuse-Prod/Redis/password

# MinIO/S3 Configuration
MINIO_ROOT_PASSWORD=op://Langfuse-Prod/MinIO/root-password
LANGFUSE_S3_EVENT_UPLOAD_SECRET_ACCESS_KEY=op://Langfuse-Prod/MinIO/event-secret-key
LANGFUSE_S3_MEDIA_UPLOAD_SECRET_ACCESS_KEY=op://Langfuse-Prod/MinIO/media-secret-key
LANGFUSE_S3_BATCH_EXPORT_SECRET_ACCESS_KEY=op://Langfuse-Prod/MinIO/batch-secret-key

# Optional: Langfuse API Keys (for dataset export)
# LANGFUSE_PUBLIC_KEY=op://Langfuse-Prod/API/public-key
# LANGFUSE_SECRET_KEY=op://Langfuse-Prod/API/secret-key

# Optional: Email Configuration
# EMAIL_FROM_ADDRESS=op://Langfuse-Prod/Email/from-address
# SMTP_CONNECTION_URL=op://Langfuse-Prod/Email/smtp-url

# Optional: Initial Setup (uncomment if needed for fresh install)
# LANGFUSE_INIT_USER_EMAIL=op://Langfuse-Prod/Init/user-email
# LANGFUSE_INIT_USER_NAME=op://Langfuse-Prod/Init/user-name
# LANGFUSE_INIT_USER_PASSWORD=op://Langfuse-Prod/Init/user-password

# Backup Configuration
BACKUP_DIR=${HOME}/LangfuseBackups
BACKUP_RETENTION_DAYS=7
BACKUP_CRON="0 2 * * *"
NOTIFICATION_LEVEL=error
# NOTIFICATION_URLS=op://Langfuse-Prod/Notifications/webhook-urls
